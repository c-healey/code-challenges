{"version":3,"sources":["contexts/WidgetsContext.js","components/CalcFare.js","components/Dropdown.js","components/Radio.js","components/Text.js","data/initialValues.js","apis/getAxiosData.js","utils/utils.js","components/App.js","apis/config.js","index.js"],"names":["WidgetContext","React","createContext","ZONES","WHEN","PURCHASE","WidgetProvider","props","useState","zoneSelected","setZoneSelected","whenSelected","setWhenSelected","purchaseSelected","setPurchaseSelected","textEntered","setTextEntered","Widgets","zones","when","purchase","quantity","faredata","Provider","value","children","CalcFare","fares","useContext","total","setTotal","fareHash","setFareHash","errorMessage","setErrorMessage","useEffect","length","Object","keys","fareHashLocal","map","zone","index","forEach","fare","type","trips","price","newTotal","className","Dropdown","label","options","contextName","selected","setSelected","open","setOpen","ref","useRef","onBodyClick","event","current","contains","target","document","body","addEventListener","removeEventListener","onClick","option","Radio","buttonSelected","setButtonSelected","name","results","id","checked","onChange","htmlFor","renderRadioButtons","Text","min","max","placeholder","e","isNaN","match","loading","getAxiosData","urlInput","setData","url","a","axios","get","data","console","log","getData","titleCase","phrase","split","word","charAt","toUpperCase","slice","join","App","fareData","setFareData","zonesData","setZonesData","whenData","setWhenData","purchaseOptions","setPurchaseOptions","loadUIData","loadZonesData","whenHash","purchaseHash","filter","whenOptions","entries","loadZoneDetails","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.167679cd.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport const WidgetContext = React.createContext();\r\nexport const ZONES = \"zones\",\r\n  WHEN = \"when\",\r\n  PURCHASE = \"purchase\",\r\n  QUANTITY = \"quantity\",\r\n  FAREDATA = \"faredata\";\r\n\r\nexport const WidgetProvider = (props) => {\r\n  // dropdown widgets\r\n\r\n  const [zoneSelected, setZoneSelected] = useState(0);\r\n  const [whenSelected, setWhenSelected] = useState(0);\r\n\r\n  // radio buttonsPoint of Sale (pos)\r\n  const [purchaseSelected, setPurchaseSelected] = useState(null);\r\n  // text entry\r\n\r\n  const [textEntered, setTextEntered] = useState(\"1\");\r\n\r\n  //  fare data\r\n  const [fareData, setFareData] = useState(null);\r\n\r\n  const Widgets = {\r\n    zones: [zoneSelected, setZoneSelected],\r\n    when: [whenSelected, setWhenSelected],\r\n    purchase: [purchaseSelected, setPurchaseSelected],\r\n    quantity: [textEntered, setTextEntered],\r\n    faredata: [fareData, setFareData],\r\n  };\r\n\r\n  return (\r\n    <WidgetContext.Provider value={Widgets}>\r\n      {props.children}\r\n    </WidgetContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  WidgetContext,\r\n  ZONES,\r\n  WHEN,\r\n  PURCHASE,\r\n  QUANTITY,\r\n  FAREDATA,\r\n} from \"../contexts/WidgetsContext\";\r\n\r\nimport \"./CalcFare.css\";\r\n\r\nconst CalcFare = () => {\r\n  const [fares] = useContext(WidgetContext)[FAREDATA];\r\n  const [zoneSelected] = useContext(WidgetContext)[ZONES];\r\n  const [whenSelected] = useContext(WidgetContext)[WHEN];\r\n  const [purchaseSelected] = useContext(WidgetContext)[PURCHASE];\r\n  const [textEntered] = useContext(WidgetContext)[QUANTITY];\r\n  const [total, setTotal] = useState(0);\r\n  const [fareHash, setFareHash] = useState({});\r\n  const [errorMessage, setErrorMessage] = useState(\r\n    \"Anytime tickets are available through Advanced Purchase only.\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (textEntered.length === 0) {\r\n      setTotal(0);\r\n      setErrorMessage(\"Enter a number between 1 and 100\");\r\n    } else if (\r\n      zoneSelected.value !== null &&\r\n      whenSelected.value &&\r\n      purchaseSelected &&\r\n      purchaseSelected.value &&\r\n      textEntered\r\n    ) {\r\n      if (Object.keys(fareHash).length === 0) {\r\n        // make a hash table to look up rates\r\n        let fareHashLocal = {};\r\n        fares.zones.map((zone, index) => {\r\n          if (!fareHashLocal[zone.zone]) {\r\n            fareHashLocal[zone.zone] = {};\r\n            zone.fares.forEach((fare) => {\r\n              if (!fareHashLocal[zone.zone][fare.type]) {\r\n                fareHashLocal[zone.zone][fare.type] = {};\r\n              }\r\n\r\n              fareHashLocal[zone.zone][fare.type][fare.purchase] = {\r\n                trips: fare.trips,\r\n                price: fare.price,\r\n              };\r\n            });\r\n          }\r\n        });\r\n\r\n        setFareHash(fareHashLocal);\r\n      }\r\n      if (Object.keys(fareHash).length !== 0) {\r\n        if (\r\n          fareHash[zoneSelected.value + 1][whenSelected.value][\r\n            purchaseSelected.value\r\n          ]\r\n        ) {\r\n          const newTotal =\r\n            fareHash[zoneSelected.value + 1][whenSelected.value][\r\n              purchaseSelected.value\r\n            ].price * +textEntered;\r\n\r\n          setTotal(newTotal);\r\n        } else {\r\n          setTotal(0);\r\n        }\r\n      }\r\n    }\r\n  }, [\r\n    fareHash,\r\n    fares,\r\n    zoneSelected,\r\n    whenSelected,\r\n    purchaseSelected,\r\n    textEntered,\r\n    total,\r\n  ]);\r\n  return (\r\n    <div>\r\n      <h3>Your fare will cost</h3>\r\n      <div className={total ? \"calc-fare calc-footer-total\" : \"\"}>{`${\r\n        total ? \"$ \" + total : errorMessage\r\n      }`}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default CalcFare;\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { WidgetContext } from \"../contexts/WidgetsContext\";\r\n\r\nimport \"./Dropdown.css\";\r\nconst Dropdown = ({ label, options, contextName }) => {\r\n  const [selected, setSelected] = useContext(WidgetContext)[contextName];\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setSelected(options[0]);\r\n\r\n    const onBodyClick = (event) => {\r\n      if (ref.current && ref.current.contains(event.target)) {\r\n        return;\r\n      }\r\n      setOpen(false);\r\n    };\r\n\r\n    document.body.addEventListener(\"click\", onBodyClick);\r\n\r\n    return () => {\r\n      document.body.removeEventListener(\"click\", onBodyClick);\r\n    };\r\n  }, [options]);\r\n  const renderedOptions = () => {\r\n    return options.map((option) => {\r\n      if (option.value === selected.value) return null;\r\n\r\n      return (\r\n        <div\r\n          key={option.value}\r\n          className=\"dropdown-item\"\r\n          onClick={() => setSelected(option)}\r\n        >\r\n          {option.label}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <div ref={ref} className=\"uid formd\">\r\n      <div className=\"fieldd\">\r\n        <h3 className=\"label\">{label}</h3>\r\n        <div\r\n          onClick={() => setOpen(!open)}\r\n          className={`dropdown-selection ${open ? \"visible active\" : \"\"}`}\r\n        >\r\n          <div className=\"dropdown-text\">{selected.label}</div>\r\n          <i className=\"dropdown icon\"></i>\r\n          <i className=\"dropdown-icon\"></i>\r\n\r\n          <div className={`dropdown-menu ${open ? \"visible transition\" : \"\"}`}>\r\n            {renderedOptions()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Dropdown;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { WidgetContext } from \"../contexts/WidgetsContext\";\r\nimport \"./Radio.css\";\r\n\r\nconst Radio = ({ label, options, contextName }) => {\r\n  const [buttonSelected, setButtonSelected] = useContext(WidgetContext)[\r\n    contextName\r\n  ];\r\n  useEffect(() => {\r\n    setButtonSelected(options[0]);\r\n  }, []);\r\n\r\n  const renderRadioButtons = (options, name) => {\r\n    const results = options.map((option, index) => {\r\n      return (\r\n        <div key={index}>\r\n          <input\r\n            type=\"radio\"\r\n            name={name}\r\n            id={option.value}\r\n            checked={\r\n              buttonSelected\r\n                ? option.value === buttonSelected.value\r\n                  ? \"checked\"\r\n                  : \"\"\r\n                : index === 0\r\n                ? \"checked\"\r\n                : \"\"\r\n            }\r\n            onChange={() => setButtonSelected(option)}\r\n          />\r\n          <label className=\"radio-button-label\" htmlFor={option.value}>\r\n            {option.label}\r\n          </label>\r\n        </div>\r\n      );\r\n    });\r\n    return <div className=\"radio-button-options\">{results}</div>;\r\n  };\r\n  return (\r\n    <div className=\"flex-column-center\">\r\n      <h3>{label}</h3>\r\n      {renderRadioButtons(options)}\r\n    </div>\r\n  );\r\n};\r\nexport default Radio;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { WidgetContext, QUANTITY } from \"../contexts/WidgetsContext\";\r\nimport \"./Text.css\";\r\n\r\nconst Text = ({ label }) => {\r\n  const [textEntered, setTextEntered] = useContext(WidgetContext)[QUANTITY];\r\n  const isValidEntry = (value) => {\r\n    if (isNaN(value)) return false;\r\n    const result = value.match(/[^0-9]/g);\r\n\r\n    return result === null && +value <= 100 ? true : false;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"ui formd\">\r\n        <div className=\"fieldd\">\r\n          <h3>{label}</h3>\r\n          <input\r\n            type=\"number\"\r\n            min=\"1\"\r\n            max=\"100\"\r\n            placeholder=\"Enter a number between 1 and 100\"\r\n            value={textEntered}\r\n            onChange={(e) =>\r\n              isValidEntry(e.target.value)\r\n                ? setTextEntered(e.target.value)\r\n                : setTextEntered(\"\")\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Text;\r\n","export const loading = [\r\n  {\r\n    label: \"Loading...\",\r\n    value: 0,\r\n  },\r\n];\r\n","import axios from \"axios\";\r\n\r\nconst getAxiosData = (urlInput, setData) => {\r\n \r\n  const getData = async (url) => {\r\n    try {\r\n      \r\n      const { data } = await axios.get(urlInput);\r\n      if (data) {\r\n        // console.log('getAxiosData data =', data);\r\n        setData(data);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n// console.log('getAxiosData url = ', urlInput);\r\n  getData(urlInput);\r\n};\r\nexport default getAxiosData;\r\n","export const titleCase = (phrase) => {\r\n  return phrase\r\n    .split(\"_\")\r\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\r\n    .join(\" \");\r\n};\r\n","import React, { useEffect, useContext, useState } from \"react\";\r\n\r\nimport CalcFare from \"./CalcFare\";\r\nimport Dropdown from \"./Dropdown\";\r\nimport Radio from \"./Radio\";\r\nimport Text from \"./Text\";\r\nimport {\r\n  WidgetContext,\r\n  FAREDATA,\r\n  ZONES,\r\n  WHEN,\r\n  PURCHASE,\r\n} from \"../contexts/WidgetsContext\";\r\nimport { loading } from \"../data/initialValues\";\r\nimport \"./App.css\";\r\nimport getAxiosData from \"../apis/getAxiosData\";\r\nimport { API_FARES } from \"../apis/config\";\r\nimport { titleCase } from \"../utils/utils\";\r\nconst App = () => {\r\n  const [fareData, setFareData] = useContext(WidgetContext)[FAREDATA];\r\n  const [zonesData, setZonesData] = useState(null);\r\n  const [whenData, setWhenData] = useState(null);\r\n  const [purchaseOptions, setPurchaseOptions] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (fareData === null) {\r\n      getAxiosData(API_FARES, setFareData);\r\n    } else {\r\n      if (zonesData === null) {\r\n        loadUIData(fareData);\r\n      }\r\n    }\r\n  }, [fareData]);\r\n\r\n  const loadZonesData = (fareData) => {\r\n    const zones = fareData.zones.map((zone, index) => {\r\n      return { label: zone.name, value: index };\r\n    });\r\n\r\n    setZonesData(zones);\r\n  };\r\n\r\n  const loadZoneDetails = (zones) => {\r\n    const whenHash = {};\r\n    const purchaseHash = {};\r\n    zones.map((zone) => {\r\n      // filter unique types to populate the when (travel time, weekday, weekend...)dropdown\r\n      zone.fares.filter((fare) => {\r\n        if (!whenHash[fare.type]) {\r\n          whenHash[fare.type] = titleCase(fare.type);\r\n        }\r\n        if (!purchaseHash[fare.purchase]) {\r\n          purchaseHash[fare.purchase] = titleCase(fare.purchase);\r\n        }\r\n      });\r\n    });\r\n\r\n    const whenOptions = Object.entries(whenHash).map((when) => {\r\n      return { label: when[1], value: when[0] };\r\n    });\r\n    setWhenData(whenOptions);\r\n    const purchaseOptions = Object.entries(purchaseHash).map((purchase) => {\r\n      return { label: purchase[1], value: purchase[0] };\r\n    });\r\n    setPurchaseOptions(purchaseOptions);\r\n  };\r\n\r\n  const loadUIData = (fareData) => {\r\n    loadZonesData(fareData);\r\n    loadZoneDetails(fareData.zones);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui container rail-fares\">\r\n      <section className=\"header\">\r\n        <h1>Regional Rail Fares</h1>\r\n      </section>\r\n      <section className=\"content\">\r\n        <div className=\"input-container\">\r\n          <Dropdown\r\n            label=\"Where are you going?\"\r\n            options={zonesData !== null ? zonesData : loading}\r\n            contextName={ZONES}\r\n          />\r\n        </div>\r\n        <div className=\"input-container\">\r\n          <Dropdown\r\n            label=\"When are you riding?\"\r\n            options={whenData !== null ? whenData : loading}\r\n            contextName={WHEN}\r\n          />\r\n          Anytime tickets are available through Advanced Purchase only and are\r\n          good for 10 rides.\r\n        </div>\r\n        <div className=\"input-container\">\r\n          {purchaseOptions !== null ? (\r\n            <Radio\r\n              label=\"Where will you purchase the fare?\"\r\n              options={purchaseOptions}\r\n              contextName={PURCHASE}\r\n            />\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n        </div>\r\n        <div className=\"input-container\">\r\n          <Text label=\"How many rides will you need?\" />\r\n        </div>\r\n        <div className=\"footer\">\r\n          <CalcFare />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","export const API_FARES = 'https://c-healey.github.io/data/fares.json'\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nimport { WidgetProvider } from \"./contexts/WidgetsContext\";\r\n\r\nReactDOM.render(\r\n  <WidgetProvider>\r\n    <App />\r\n  </WidgetProvider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}